"use strict";var A=Object.create;var w=Object.defineProperty;var T=Object.getOwnPropertyDescriptor;var B=Object.getOwnPropertyNames;var q=Object.getPrototypeOf,W=Object.prototype.hasOwnProperty;var N=(n,e)=>{for(var o in e)w(n,o,{get:e[o],enumerable:!0})},_=(n,e,o,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of B(e))!W.call(n,s)&&s!==o&&w(n,s,{get:()=>e[s],enumerable:!(t=T(e,s))||t.enumerable});return n};var j=(n,e,o)=>(o=n!=null?A(q(n)):{},_(e||!n||!n.__esModule?w(o,"default",{value:n,enumerable:!0}):o,n)),H=n=>_(w({},"__esModule",{value:!0}),n);var Y={};N(Y,{Bgc:()=>J,Colors:()=>f,Formatter:()=>b,Fragmenter:()=>M,Loggings:()=>S,LoggingsColors:()=>P,LoggingsConsole:()=>D,LoggingsPlugin:()=>E,LoggingsRegister:()=>v,Rgb:()=>g,StaticFormatter:()=>O,Timer:()=>h,Timers:()=>x,Uptimer:()=>V,console_defaults:()=>k,register_defaults:()=>$});module.exports=H(Y);var J=(n,e,o)=>{let t=[n,e,o];for(let s of t){let i=t[s];i>255?t[s]=255:i<1&&(t[s]=1)}return`\x1B[48;2;${t[0]};${t[1]};${t[2]}m`},g=(n,e,o)=>{let t=[n,e,o];for(let s of t){let i=t[s];i>255?t[s]=255:i<1&&(t[s]=1)}return`\x1B[38;2;${t[0]};${t[1]};${t[2]}m`},Q={red:g(255,0,0),green:g(0,255,0),lime:g(128,255,128),blue:g(0,0,255),yellow:g(255,255,0),cyan:g(0,255,255),magenta:g(255,0,255),black:g(0,0,0),white:g(255,255,255),gray:g(128,128,128),maroon:g(128,0,0),olive:g(128,128,0),navy:g(0,0,128),purple:g(128,0,128),teal:g(0,128,128),silver:g(192,192,192),indigo:g(75,0,130),gold:g(255,215,0),pink:g(255,192,203),orange:g(255,165,0),brown:g(165,42,42),peach:g(255,218,185),lavender:g(230,230,250),coral:g(255,127,80),turquoise:g(64,224,208),salmon:g(250,128,114),olivebrab:g(107,142,35),slate:g(112,128,144),lsgreen:g(32,178,170),dorange:g(255,140,0),khaki:g(240,230,140),mvred:g(199,21,133),dsalmon:g(233,150,122),lpink:g(255,182,193),dgray:g(105,105,105),gainsboro:g(220,220,220),nred:g(255,45,0),ngreen:g(57,255,20),nblue:g(0,0,255),nyellow:g(255,255,51),ncyan:g(0,255,255),nmagenta:g(255,0,255),npink:g(255,20,147),norange:g(255,165,0),npurple:g(128,0,255),nturquoise:g(0,255,255),nviolet:g(238,130,238),ncoral:g(255,127,80)},P={inverse:"\x1B[7m",none:"none",reset:"\x1B[0m",bold:"\x1B[1m",def:"\x1B[49m",normal:"\x1B[22m",blink:"\x1B[5m",nblink:"\x1B[25m",hidden:"\x1B[8m",visible:"\x1B[28m",over:"\x1B[53m",nover:"\x1B[55m",dtext:"\x1B[2m",italic:"\x1B[3m",icolor:"\x1B[7m",ncolor:"\x1B[27m",strike:"\x1B[9m",nstrike:"\x1B[29m",under:"\x1B[4m",dunder:"\x1B[21m",nunder:"\x1B[24m",cunder:"\x1B[4:3m",dounder:"\x1B[4:4m",daunder:"\x1B[4:5m",runder:"\x1B[59m",...Q};function f(n,e,o){let t=Object.assign(P,o),s=t[n];return s=="none"?e:s?s+e+t.reset:e}var F=require("util");function M(n,e="<*>"){let[o,t]=e.split("*"),s=[],i=/\[([^\]]*)\]\.(\w+)(-b)?/g;return{text:n.replace(i,(r,m,p,C)=>{let c=C==="-b",u=m.replace(/^\[|\]$/g,"");s.push({key:p,value:u,bold:c});let y=m.startsWith("[")?"[":"",R=m.endsWith("]")?"]":"";return`${y}${o}${p}${t}${R}`}).trim(),frags:s}}var U=n=>(0,F.inspect)(n,{depth:null,colors:!0});function b(...n){return O({},...n)}function O(n,...e){let o="",t="";return e.forEach(s=>{if(typeof s=="string"){let i=M(s,"{{{{*}}}}");i.frags.forEach(l=>{let r=l.value;l.bold&&(r=f("bold",l.value,n)),Object.keys(P).includes(l.key)&&(r=f(l.key,r,n)),i.text=i.text.replace(`{{{{${l.key}}}}}`,r)}),o+=i.text}else o+=U(s)}),e.forEach(s=>{if(typeof s=="string"){let i=/\[([^\]]+)\]\.(\w+)(-b)?/g,l=s.replace(i,(c,u)=>`"${u}"`),r=/\x1B[[(?);]{0,2}(;?\d)*./g,m=l.replace(r,""),p=/"(\d{1,})".*?"(\d{1,})"/g,C=m.replace(p,(c,u,y)=>`"${u}"${y}"`);t+=C}else typeof s=="number"?t+=` ${s.toString()}`:typeof s=="boolean"?t+=` ${s.toString()}`:typeof s=="object"?t+=` "${JSON.stringify(s,null,2)}"`:t+=` "${s}"`}),[o,t]}var x=(r=>(r.year="year",r.month="month",r.day="day",r.hours="hours",r.minutes="minutes",r.seconds="seconds",r.milliseconds="milliseconds",r))(x||{});function V(n,e=!1){let o=n,t=Math.floor(o/86400),s=Math.floor(o/3600)%24,i=Math.floor(o/60)%60,l=Math.floor(o)%60,r=Math.floor(o%1*1e3);return e?`${t>0?t+"d ":""}${s>0?s+"h ":""}${i>0?i+"m ":""}${l?l+".":"0."}${r>0?r+"s":""}`:`${t>0?t+"d ":""}${s>0?s+"h ":""}${i>0?i+"m ":""}${l>0?l+"s ":"0s"}`}function h(n){let e=new Date,o={timestamp:Date.now(),year:String(e.getFullYear()),month:String(e.getMonth()+1).padStart(2,"0"),day:String(e.getDate()).padStart(2,"0"),hours:String(e.getHours()).padStart(2,"0"),minutes:String(e.getMinutes()).padStart(2,"0"),seconds:String(e.getSeconds()).padStart(2,"0"),milliseconds:String(e.getMilliseconds()).padStart(3,"0")};for(let t in x)if(Object.prototype.hasOwnProperty.call(x,t)){let s=t;n=n.replace(new RegExp(`{${x[s]}}`,"g"),o[x[s]])}return{format:n,timer:o}}function E(n){let e=()=>{};return{...n,identify:n.identify,defaults:n.defaults??{},onMessage:n.onMessage??e,onCreateInstance:n.onCreateInstance??e,onAddPlugin:n.onAddPlugin??e,onRemPlugin:n.onRemPlugin??e}}var k={format:"[{status}] {title} [{hours}:{minutes}:{seconds}].gray {message}",status:{trace:"ncoral",error:"nred",warn:"nyellow",info:"nblue",debug:"npurple"},console:!0,level:"info",color_fallback:"cyan",disable_colors:!1,title:"All",color:"cyan"};var D={identify:"LoggingsConsole",defaults:k,onMessage(n,e,o){if(n.level=n.console_level?n.console_level:n.level,n.console&&e>=n.level){let t=b(n.format)[n.disable_colors?1:0];t=h(t).format,n.disable_colors?(t.includes("{title}")&&(t=t.replace(new RegExp("{title}","g"),n.title)),t.includes("{status}")&&(t=t.replace(new RegExp("{status}","g"),e)),t.includes("{message}")&&(t=t.replace(new RegExp("{message}","g"),b(...o)[1]))):(t.includes("{title}")&&(t=t.replace(new RegExp("{title}","g"),f(n.color,n.title))),t.includes("{status}")&&(t=t.replace(new RegExp("{status}","g"),f(n.status[e],f("bold",e)))),t.includes("{message}")&&(t=t.replace(new RegExp("{message}","g"),b(...o)[0]))),["info","debug"].includes(e.toLowerCase())?process.stdout.write(t+`
`):process.stderr.write(t+`
`)}}};var $={register:!0,register_del:!0,register_limit:10,register_dir:"./logs",register_locale_file:"{register_dir}",register_filename:"{day}_{month}_{year}.{ext}",register_format:"[ {day}/{month}/{year}-{hours}:{minutes}:{seconds} ] [ _.{title}._ ] {message}"};var L=j(require("path"),1),d=j(require("fs"),1);var v={identify:"LoggingsRegister",defaults:$,onMessage(n,e,o){if(n.level=n.register_level?n.register_level:n.level,n.register&&e>=n.level){let t=n.register_locale_file.replace(new RegExp("{register_dir}","g"),n.register_dir);t=t.replace(new RegExp("{title}","g"),n.title),t=t.replace(new RegExp("{status}","g"),e);let s=h(n.register_filename).format.replace(new RegExp("{status}","g"),e).replace(new RegExp("{ext}","g"),"log"),i=n.register_format;i=h(i).format,i.includes("{title}")&&(i=i.replace(new RegExp("{title}","g"),n.title)),i.includes("{status}")&&(i=i.replace(new RegExp("{status}","g"),e)),i.includes("{message}")&&(i=i.replace(new RegExp("{message}","g"),b(...o)[1]));let l=L.default.join(t,s),r=L.default.resolve(L.default.join(t));if(d.default.existsSync(r)||d.default.mkdirSync(r,{recursive:!0}),d.default.appendFileSync(l,i+`
`),n.register_del&&n.register_limit>0){let m=new RegExp(".log"),p=d.default.readdirSync(t).filter(c=>m.test(c)).sort((c,u)=>{let y=d.default.statSync(L.default.join(t,c)),R=d.default.statSync(L.default.join(t,u));return y.mtime.getTime()-R.mtime.getTime()});p.slice(0,p.length-n.register_limit).forEach(c=>{let u=L.default.join(t,c);d.default.unlinkSync(u)})}}}};var I=require("console"),a=class n extends I.Console{static configs={};configs={};static plugins=[];plugins=[];static reset(){n.plugins.length=0}reset(){this.plugins.length=0}static add(...e){e.forEach(o=>{let t=E(o);t.defaults&&Object.assign(n.configs,t.defaults),n.plugins.forEach(s=>s.onAddPlugin(t)),n.plugins.push(t)})}add(...e){e.forEach(o=>{o.defaults&&Object.assign(this.configs,o.defaults),this.plugins.forEach(t=>t.onAddPlugin(o)),this.plugins.push(o)})}static get(e){return n.plugins.find(o=>o.identify===e)}get(e){return this.plugins.find(o=>o.identify===e)}static rem(e){n.plugins=n.plugins.filter(o=>{let t=o.identify===e;return t&&(n.plugins.forEach(s=>s.onRemPlugin(o)),o.defaults&&Object.keys(o.defaults).forEach(s=>delete n.configs[s])),!t})}rem(e){this.plugins=this.plugins.filter(o=>{let t=o.identify===e;return t&&(this.plugins.forEach(s=>s.onRemPlugin(o)),o.defaults&&Object.keys(o.defaults).forEach(s=>delete this.configs[s])),!t})}controller(e,o){this.plugins.forEach(t=>{t.onMessage({...n.configs,...this.configs},o,e)})}log(...e){this.controller(e,"info")}error(...e){this.controller(e,"error")}trace(...e){this.controller(e,"trace")}debug(...e){this.controller(e,"debug")}warn(...e){this.controller(e,"warn")}info(...e){this.controller(e,"info")}static controller(e,o){n.plugins.forEach(t=>{t.onMessage({...n.configs,...this.configs},o,e)})}static log(...e){n.controller(e,"info")}static error(...e){n.controller(e,"error")}static trace(...e){n.controller(e,"trace")}static debug(...e){n.controller(e,"debug")}static warn(...e){n.controller(e,"warn")}static info(...e){n.controller(e,"info")}};a.add(D,v);var S=class n extends a{static useConsole(e){global.loggings=e,global.console={...global.console,log:(...o)=>global.loggings.log(...o),error:(...o)=>global.loggings.error(...o),warn:(...o)=>global.loggings.warn(...o),info:(...o)=>global.loggings.info(...o),debug:(...o)=>global.loggings.debug(...o)}}constructor(e,o,t){super(process.stdin,process.stderr),this.configs=n.getDefaults(),e&&(this.configs.title=e),o&&(this.configs.color=o),this.configs={...this.configs,...t},this.plugins=a.plugins,a.plugins.forEach(s=>s.onCreateInstance(this))}config(e){this.configs={...this.configs,...e}}static config(e){a.configs={...a.configs,...e}}static getDefaults(){return{...a.configs,...this.configs}}};0&&(module.exports={Bgc,Colors,Formatter,Fragmenter,Loggings,LoggingsColors,LoggingsConsole,LoggingsPlugin,LoggingsRegister,Rgb,StaticFormatter,Timer,Timers,Uptimer,console_defaults,register_defaults});
