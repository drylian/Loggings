var I=(t,n,o)=>{let e=[t,n,o];for(let s of e){let i=e[s];i>255?e[s]=255:i<1&&(e[s]=1)}return`\x1B[48;2;${e[0]};${e[1]};${e[2]}m`},g=(t,n,o)=>{let e=[t,n,o];for(let s of e){let i=e[s];i>255?e[s]=255:i<1&&(e[s]=1)}return`\x1B[38;2;${e[0]};${e[1]};${e[2]}m`},S={red:g(255,0,0),green:g(0,255,0),lime:g(128,255,128),blue:g(0,0,255),yellow:g(255,255,0),cyan:g(0,255,255),magenta:g(255,0,255),black:g(0,0,0),white:g(255,255,255),gray:g(128,128,128),maroon:g(128,0,0),olive:g(128,128,0),navy:g(0,0,128),purple:g(128,0,128),teal:g(0,128,128),silver:g(192,192,192),indigo:g(75,0,130),gold:g(255,215,0),pink:g(255,192,203),orange:g(255,165,0),brown:g(165,42,42),peach:g(255,218,185),lavender:g(230,230,250),coral:g(255,127,80),turquoise:g(64,224,208),salmon:g(250,128,114),olivebrab:g(107,142,35),slate:g(112,128,144),lsgreen:g(32,178,170),dorange:g(255,140,0),khaki:g(240,230,140),mvred:g(199,21,133),dsalmon:g(233,150,122),lpink:g(255,182,193),dgray:g(105,105,105),gainsboro:g(220,220,220),nred:g(255,45,0),ngreen:g(57,255,20),nblue:g(0,0,255),nyellow:g(255,255,51),ncyan:g(0,255,255),nmagenta:g(255,0,255),npink:g(255,20,147),norange:g(255,165,0),npurple:g(128,0,255),nturquoise:g(0,255,255),nviolet:g(238,130,238),ncoral:g(255,127,80)},C={inverse:"\x1B[7m",none:"none",reset:"\x1B[0m",bold:"\x1B[1m",def:"\x1B[49m",normal:"\x1B[22m",blink:"\x1B[5m",nblink:"\x1B[25m",hidden:"\x1B[8m",visible:"\x1B[28m",over:"\x1B[53m",nover:"\x1B[55m",dtext:"\x1B[2m",italic:"\x1B[3m",icolor:"\x1B[7m",ncolor:"\x1B[27m",strike:"\x1B[9m",nstrike:"\x1B[29m",under:"\x1B[4m",dunder:"\x1B[21m",nunder:"\x1B[24m",cunder:"\x1B[4:3m",dounder:"\x1B[4:4m",daunder:"\x1B[4:5m",runder:"\x1B[59m",...S};function m(t,n,o){let e=Object.assign(C,o),s=e[t];return s=="none"?n:s?s+n+e.reset:n}import{inspect as _}from"node:util";function R(t,n="<*>"){let[o,e]=n.split("*"),s=[],i=/\[([^\]]*)\]\.(\w+)(-b)?/g;return{text:t.replace(i,(r,f,d,P)=>{let c=P==="-b",u=f.replace(/^\[|\]$/g,"");s.push({key:d,value:u,bold:c});let x=f.startsWith("[")?"[":"",w=f.endsWith("]")?"]":"";return`${x}${o}${d}${e}${w}`}).trim(),frags:s}}var j=t=>_(t,{depth:null,colors:!0});function b(...t){return F({},...t)}function F(t,...n){let o="",e="";return n.forEach(s=>{if(typeof s=="string"){let i=R(s,"{{{{*}}}}");i.frags.forEach(l=>{let r=l.value;l.bold&&(r=m("bold",l.value,t)),Object.keys(C).includes(l.key)&&(r=m(l.key,r,t)),i.text=i.text.replace(`{{{{${l.key}}}}}`,r)}),o+=i.text}else o+=j(s)}),n.forEach(s=>{if(typeof s=="string"){let i=/\[([^\]]+)\]\.(\w+)(-b)?/g,l=s.replace(i,(c,u)=>`"${u}"`),r=/\x1B[[(?);]{0,2}(;?\d)*./g,f=l.replace(r,""),d=/"(\d{1,})".*?"(\d{1,})"/g,P=f.replace(d,(c,u,x)=>`"${u}"${x}"`);e+=P}else typeof s=="number"?e+=` ${s.toString()}`:typeof s=="boolean"?e+=` ${s.toString()}`:typeof s=="object"?e+=` "${JSON.stringify(s,null,2)}"`:e+=` "${s}"`}),[o,e]}var h=(r=>(r.year="year",r.month="month",r.day="day",r.hours="hours",r.minutes="minutes",r.seconds="seconds",r.milliseconds="milliseconds",r))(h||{});function U(t,n=!1){let o=t,e=Math.floor(o/86400),s=Math.floor(o/3600)%24,i=Math.floor(o/60)%60,l=Math.floor(o)%60,r=Math.floor(o%1*1e3);return n?`${e>0?e+"d ":""}${s>0?s+"h ":""}${i>0?i+"m ":""}${l?l+".":"0."}${r>0?r+"s":""}`:`${e>0?e+"d ":""}${s>0?s+"h ":""}${i>0?i+"m ":""}${l>0?l+"s ":"0s"}`}function y(t){let n=new Date,o={timestamp:Date.now(),year:String(n.getFullYear()),month:String(n.getMonth()+1).padStart(2,"0"),day:String(n.getDate()).padStart(2,"0"),hours:String(n.getHours()).padStart(2,"0"),minutes:String(n.getMinutes()).padStart(2,"0"),seconds:String(n.getSeconds()).padStart(2,"0"),milliseconds:String(n.getMilliseconds()).padStart(3,"0")};for(let e in h)if(Object.prototype.hasOwnProperty.call(h,e)){let s=e;t=t.replace(new RegExp(`{${h[s]}}`,"g"),o[h[s]])}return{format:t,timer:o}}function M(t){let n=()=>{};return{...t,identify:t.identify,defaults:t.defaults??{},onMessage:t.onMessage??n,onCreateInstance:t.onCreateInstance??n,onAddPlugin:t.onAddPlugin??n,onRemPlugin:t.onRemPlugin??n}}var E={format:"[{status}] {title} [{hours}:{minutes}:{seconds}].gray {message}",status:{trace:"ncoral",error:"nred",warn:"nyellow",info:"nblue",debug:"npurple"},console:!0,level:"info",color_fallback:"cyan",disable_colors:!1,title:"All",color:"cyan"};var k={identify:"LoggingsConsole",defaults:E,onMessage(t,n,o){if(t.level=t.console_level?t.console_level:t.level,t.console&&n>=t.level){let e=b(t.format)[t.disable_colors?1:0];e=y(e).format,t.disable_colors?(e.includes("{title}")&&(e=e.replace(new RegExp("{title}","g"),t.title)),e.includes("{status}")&&(e=e.replace(new RegExp("{status}","g"),n)),e.includes("{message}")&&(e=e.replace(new RegExp("{message}","g"),b(...o)[1]))):(e.includes("{title}")&&(e=e.replace(new RegExp("{title}","g"),m(t.color,t.title))),e.includes("{status}")&&(e=e.replace(new RegExp("{status}","g"),m(t.status[n],m("bold",n)))),e.includes("{message}")&&(e=e.replace(new RegExp("{message}","g"),b(...o)[0]))),["info","debug"].includes(n.toLowerCase())?process.stdout.write(e+`
`):process.stderr.write(e+`
`)}}};var D={register:!0,register_del:!0,register_limit:10,register_dir:"./logs",register_locale_file:"{register_dir}",register_filename:"{day}_{month}_{year}.{ext}",register_format:"[ {day}/{month}/{year}-{hours}:{minutes}:{seconds} ] [ _.{title}._ ] {message}"};import L from"node:path";import p from"node:fs";var $={identify:"LoggingsRegister",defaults:D,onMessage(t,n,o){if(t.level=t.register_level?t.register_level:t.level,t.register&&n>=t.level){let e=t.register_locale_file.replace(new RegExp("{register_dir}","g"),t.register_dir);e=e.replace(new RegExp("{title}","g"),t.title),e=e.replace(new RegExp("{status}","g"),n);let s=y(t.register_filename).format.replace(new RegExp("{status}","g"),n).replace(new RegExp("{ext}","g"),"log"),i=t.register_format;i=y(i).format,i.includes("{title}")&&(i=i.replace(new RegExp("{title}","g"),t.title)),i.includes("{status}")&&(i=i.replace(new RegExp("{status}","g"),n)),i.includes("{message}")&&(i=i.replace(new RegExp("{message}","g"),b(...o)[1]));let l=L.join(e,s),r=L.resolve(L.join(e));if(p.existsSync(r)||p.mkdirSync(r,{recursive:!0}),p.appendFileSync(l,i+`
`),t.register_del&&t.register_limit>0){let f=new RegExp(".log"),d=p.readdirSync(e).filter(c=>f.test(c)).sort((c,u)=>{let x=p.statSync(L.join(e,c)),w=p.statSync(L.join(e,u));return x.mtime.getTime()-w.mtime.getTime()});d.slice(0,d.length-t.register_limit).forEach(c=>{let u=L.join(e,c);p.unlinkSync(u)})}}}};import{Console as O}from"node:console";var a=class t extends O{static configs={};configs={};static plugins=[];plugins=[];static reset(){t.plugins.length=0}reset(){this.plugins.length=0}static add(...n){n.forEach(o=>{let e=M(o);e.defaults&&Object.assign(t.configs,e.defaults),t.plugins.forEach(s=>s.onAddPlugin(e)),t.plugins.push(e)})}add(...n){n.forEach(o=>{o.defaults&&Object.assign(this.configs,o.defaults),this.plugins.forEach(e=>e.onAddPlugin(o)),this.plugins.push(o)})}static get(n){return t.plugins.find(o=>o.identify===n)}get(n){return this.plugins.find(o=>o.identify===n)}static rem(n){t.plugins=t.plugins.filter(o=>{let e=o.identify===n;return e&&(t.plugins.forEach(s=>s.onRemPlugin(o)),o.defaults&&Object.keys(o.defaults).forEach(s=>delete t.configs[s])),!e})}rem(n){this.plugins=this.plugins.filter(o=>{let e=o.identify===n;return e&&(this.plugins.forEach(s=>s.onRemPlugin(o)),o.defaults&&Object.keys(o.defaults).forEach(s=>delete this.configs[s])),!e})}controller(n,o){this.plugins.forEach(e=>{e.onMessage({...t.configs,...this.configs},o,n)})}log(...n){this.controller(n,"info")}error(...n){this.controller(n,"error")}trace(...n){this.controller(n,"trace")}debug(...n){this.controller(n,"debug")}warn(...n){this.controller(n,"warn")}info(...n){this.controller(n,"info")}static controller(n,o){t.plugins.forEach(e=>{e.onMessage({...t.configs,...this.configs},o,n)})}static log(...n){t.controller(n,"info")}static error(...n){t.controller(n,"error")}static trace(...n){t.controller(n,"trace")}static debug(...n){t.controller(n,"debug")}static warn(...n){t.controller(n,"warn")}static info(...n){t.controller(n,"info")}};a.add(k,$);var v=class t extends a{static useConsole(n){global.loggings=n,global.console={...global.console,log:(...o)=>global.loggings.log(...o),error:(...o)=>global.loggings.error(...o),warn:(...o)=>global.loggings.warn(...o),info:(...o)=>global.loggings.info(...o),debug:(...o)=>global.loggings.debug(...o)}}constructor(n,o,e){super(process.stdin,process.stderr),this.configs=t.getDefaults(),n&&(this.configs.title=n),o&&(this.configs.color=o),this.configs={...this.configs,...e},this.plugins=a.plugins,a.plugins.forEach(s=>s.onCreateInstance(this))}config(n){this.configs={...this.configs,...n}}static config(n){a.configs={...a.configs,...n}}static getDefaults(){return{...a.configs,...this.configs}}};export{I as Bgc,m as Colors,b as Formatter,R as Fragmenter,v as Loggings,C as LoggingsColors,k as LoggingsConsole,M as LoggingsPlugin,$ as LoggingsRegister,g as Rgb,F as StaticFormatter,y as Timer,h as Timers,U as Uptimer,E as console_defaults,D as register_defaults};
