var Z=(o,...e)=>{let[n,s,t]=e.map(f=>Math.min(255,Math.max(0,f)));return`\x1B[${o?"48":"38"};2;${n};${s};${t}m`},w=(o,e,n)=>(s=!1)=>Z(s,o,e,n);function K(o){let e=new Date,n={timestamp:Date.now(),year:String(e.getFullYear()),month:String(e.getMonth()+1).padStart(2,"0"),day:String(e.getDate()).padStart(2,"0"),hours:String(e.getHours()).padStart(2,"0"),minutes:String(e.getMinutes()).padStart(2,"0"),seconds:String(e.getSeconds()).padStart(2,"0"),milliseconds:String(e.getMilliseconds()).padStart(3,"0")};return{format:Object.entries(n).reduce((t,[i])=>{let f=new RegExp(`{${i}}`,"g");return t.replace(f,String(n[i]))},o),timer:n}}function F(o){switch(o){case"debug":return 4;case"info":return 3;case"warn":return 2;case"error":return 1;default:return 1}}var _=(t=>(t[t.Node=0]="Node",t[t.Bun=1]="Bun",t[t.Deno=2]="Deno",t[t.Browser=3]="Browser",t))(_||{}),d=0;switch(!0){case typeof Bun<"u":{d=1;break}case typeof Deno<"u":{d=2;break}case typeof process<"u":{d=0;break}default:d=3}var O=(...o)=>global.inpect;var N={depth:null,showHidden:!1,showProxy:!1,maxArrayLength:null,breakLength:1/0,compact:!1},v=(o,e=!1)=>o;switch(d){case 0:{v=(o,e=!1)=>O(o,{colors:!e,...N});break}case 1:{try{v=(o,e=!1)=>Bun.inspect(o,{colors:!e,...N})}catch{console.warn("Failed to use Bun.inspect, using fallback")}break}case 2:{try{v=(o,e=!1)=>Deno.inspect(o,{colors:!e,...N})}catch{console.warn("Failed to use Deno.inspect, using fallback")}break}}var R=v;var $={slate5:"#f8fafc",slate10:"#f1f5f9",slate20:"#e2e8f0",slate30:"#cbd5e1",slate40:"#94a3b8",slate50:"#64748b",slate60:"#475569",slate70:"#334155",slate80:"#1e293b",slate90:"#0f172a",slate95:"#020617",gray5:"#f9fafb",gray10:"#f3f4f6",gray20:"#e5e7eb",gray30:"#d1d5db",gray40:"#9ca3af",gray50:"#6b7280",gray60:"#4b5563",gray70:"#374151",gray80:"#1f2937",gray90:"#111827",gray95:"#030712",zinc5:"#fafafa",zinc10:"#f4f4f5",zinc20:"#e4e4e7",zinc30:"#d4d4d8",zinc40:"#a1a1aa",zinc50:"#71717a",zinc60:"#52525b",zinc70:"#3f3f46",zinc80:"#27272a",zinc90:"#18181b",zinc95:"#09090b",neutral5:"#fafafa",neutral10:"#f5f5f5",neutral20:"#e5e5e5",neutral30:"#d4d4d4",neutral40:"#a3a3a3",neutral50:"#737373",neutral60:"#525252",neutral70:"#404040",neutral80:"#262626",neutral90:"#171717",neutral95:"#0a0a0a",stone5:"#fafaf9",stone10:"#f5f5f4",stone20:"#e7e5e4",stone30:"#d6d3d1",stone40:"#a8a29e",stone50:"#78716c",stone60:"#57534e",stone70:"#44403c",stone80:"#292524",stone90:"#1c1917",stone95:"#0c0a09",red5:"#fef2f2",red10:"#fee2e2",red20:"#fecaca",red30:"#fca5a5",red40:"#f87171",red50:"#ef4444",red60:"#dc2626",red70:"#b91c1c",red80:"#991b1b",red90:"#7f1d1d",red95:"#450a0a",orange5:"#fff7ed",orange10:"#ffedd5",orange20:"#fed7aa",orange30:"#fdba74",orange40:"#fb923c",orange50:"#f97316",orange60:"#ea580c",orange70:"#c2410c",orange80:"#9a3412",orange90:"#7c2d12",orange95:"#431407",amber5:"#fffbeb",amber10:"#fef3c7",amber20:"#fde68a",amber30:"#fcd34d",amber40:"#fbbf24",amber50:"#f59e0b",amber60:"#d97706",amber70:"#b45309",amber80:"#92400e",amber90:"#78350f",amber95:"#451a03",yellow5:"#fefce8",yellow10:"#fef9c3",yellow20:"#fef08a",yellow30:"#fde047",yellow40:"#facc15",yellow50:"#eab308",yellow60:"#ca8a04",yellow70:"#a16207",yellow80:"#854d0e",yellow90:"#713f12",yellow95:"#422006",lime5:"#f7fee7",lime10:"#ecfccb",lime20:"#d9f99d",lime30:"#bef264",lime40:"#a3e635",lime50:"#84cc16",lime60:"#65a30d",lime70:"#4d7c0f",lime80:"#3f6212",lime90:"#365314",lime95:"#1a2e05",green5:"#f0fdf4",green10:"#dcfce7",green20:"#bbf7d0",green30:"#86efac",green40:"#4ade80",green50:"#22c55e",green60:"#16a34a",green70:"#15803d",green80:"#166534",green90:"#14532d",green95:"#052e16",emerald5:"#ecfdf5",emerald10:"#d1fae5",emerald20:"#a7f3d0",emerald30:"#6ee7b7",emerald40:"#34d399",emerald50:"#10b981",emerald60:"#059669",emerald70:"#047857",emerald80:"#065f46",emerald90:"#064e3b",emerald95:"#022c22",teal5:"#f0fdfa",teal10:"#ccfbf1",teal20:"#99f6e4",teal30:"#5eead4",teal40:"#2dd4bf",teal50:"#14b8a6",teal60:"#0d9488",teal70:"#0f766e",teal80:"#115e59",teal90:"#134e4a",teal95:"#042f2e",cyan5:"#ecfeff",cyan10:"#cffafe",cyan20:"#a5f3fc",cyan30:"#67e8f9",cyan40:"#22d3ee",cyan50:"#06b6d4",cyan60:"#0891b2",cyan70:"#0e7490",cyan80:"#155e75",cyan90:"#164e63",cyan95:"#083344",sky5:"#f0f9ff",sky10:"#e0f2fe",sky20:"#bae6fd",sky30:"#7dd3fc",sky40:"#38bdf8",sky50:"#0ea5e9",sky60:"#0284c7",sky70:"#0369a1",sky80:"#075985",sky90:"#0c4a6e",sky95:"#082f49",blue5:"#eff6ff",blue10:"#dbeafe",blue20:"#bfdbfe",blue30:"#93c5fd",blue40:"#60a5fa",blue50:"#3b82f6",blue60:"#2563eb",blue70:"#1d4ed8",blue80:"#1e40af",blue90:"#1e3a8a",blue95:"#172554",indigo5:"#eef2ff",indigo10:"#e0e7ff",indigo20:"#c7d2fe",indigo30:"#a5b4fc",indigo40:"#818cf8",indigo50:"#6366f1",indigo60:"#4f46e5",indigo70:"#4338ca",indigo80:"#3730a3",indigo90:"#312e81",indigo95:"#1e1b4b",violet5:"#f5f3ff",violet10:"#ede9fe",violet20:"#ddd6fe",violet30:"#c4b5fd",violet40:"#a78bfa",violet50:"#8b5cf6",violet60:"#7c3aed",violet70:"#6d28d9",violet80:"#5b21b6",violet90:"#4c1d95",violet95:"#2e1065",purple5:"#faf5ff",purple10:"#f3e8ff",purple20:"#e9d5ff",purple30:"#d8b4fe",purple40:"#c084fc",purple50:"#a855f7",purple60:"#9333ea",purple70:"#7e22ce",purple80:"#6b21a8",purple90:"#581c87",purple95:"#3b0764",fuchsia5:"#fdf4ff",fuchsia10:"#fae8ff",fuchsia20:"#f5d0fe",fuchsia30:"#f0abfc",fuchsia40:"#e879f9",fuchsia50:"#d946ef",fuchsia60:"#c026d3",fuchsia70:"#a21caf",fuchsia80:"#86198f",fuchsia90:"#701a75",fuchsia95:"#4a044e",pink5:"#fdf2f8",pink10:"#fce7f3",pink20:"#fbcfe8",pink30:"#f9a8d4",pink40:"#f472b6",pink50:"#ec4899",pink60:"#db2777",pink70:"#be185d",pink80:"#9d174d",pink90:"#831843",pink95:"#500724",rose5:"#fff1f2",rose10:"#ffe4e6",rose20:"#fecdd3",rose30:"#fda4af",rose40:"#fb7185",rose50:"#f43f5e",rose60:"#e11d48",rose70:"#be123c",rose80:"#9f1239",rose90:"#881337",rose95:"#4c0519"},y={reset:"\x1B[0m",bold:"\x1B[1m",italic:"\x1B[3m",underline:"\x1B[4m",blink:"\x1B[5m",reverse:"\x1B[7m",hidden:"\x1B[8m",strikethrough:"\x1B[9m",none:"\x1B[22m"},A={red:"#ff0000",green:"#00ff00",lime:"#80ff80",blue:"#0000ff",yellow:"#ffff00",cyan:"#00ffff",magenta:"#ff00ff",black:"#000000",white:"#ffffff",gray:"#808080",maroon:"#800000",olive:"#808000",navy:"#000080",purple:"#800080",teal:"#008080",silver:"#c0c0c0",indigo:"#4b0082",gold:"#ffd700",pink:"#ffc0cb",orange:"#ffa500",brown:"#a52a2a",peach:"#ffdab9",lavender:"#e6e6fa",coral:"#ff7f50",turquoise:"#40e0d0",salmon:"#fa8072",olivebrab:"#6b8e23",slate:"#708090",lsgreen:"#20b2aa",dorange:"#ff8c00",khaki:"#f0e68c",mvred:"#c71585",dsalmon:"#e9967a",lpink:"#ffb6c1",dgray:"#696969",gainsboro:"#dcdcdc"},z={...A,...y,...$},j={...A,...$},H=o=>{let e=null;if(typeof o=="number")return o;if(typeof o=="string"&&/^#[0-9A-Fa-f]{6}$/i.test(o)){let n=o;if(n=n.replace(/^#/,""),n.length===3&&(n=n.split("").map(s=>s+s).join("")),n.length===6)return parseInt(n,16)}return!e&&Object.keys(j).includes(o)&&(e=j[o]),e||(e=j.white),parseInt(e.replace("#",""),16)},S=(o,e=!1)=>{if(typeof o=="number"){let n=o>>24&255,s=o>>16&255,t=o>>8&255;return w(n,s,t)(e)}if(o.startsWith("#")){let n=o;if(n=n.replace(/^#/,""),n.length===3&&(n=n.split("").map(s=>s+s).join("")),n.length===6){let s=parseInt(n,16);return w(s>>16&255,s>>8&255,s&255)(e)}}if(z[o]){let n=z[o];return S(n,e)}if(o.includes("-")){let n=o.replace("-","");return S(n.slice(0,n.length-1),e)}return/^\x1b\[/.test(o)?o:y.reset};function l(o,e,n={}){let s=n[o];switch(!0){case typeof s>"u":{let t=S(o);return t?t+e+y.reset:e}case s=="none":return e;default:return S(s)+e+y.reset}}var ae=l;var p=(o,e)=>(n,s)=>{let t=typeof o=="string"?new RegExp(o):o;return typeof s=="string"?s.replace(t,(...i)=>e(n,...i)):R(s,n)},q=(o,e,n,s)=>{if(o)return n;let t=(g,x,m)=>{let k=g>>16&255,C=g>>8&255,M=g&255,I=x>>16&255,Y=x>>8&255,J=x&255,Q=Math.round(k+(I-k)*m),V=Math.round(C+(Y-C)*m),X=Math.round(M+(J-M)*m);return w(Q,V,X)()},i=s.split(","),f=(i.length==1?[i[0],i[0]]:i).map(g=>g.trim()).map(g=>H(g)),b=/(\p{Emoji_Presentation}|\p{Emoji}\uFE0F)/gu,c=[],a;for(;(a=b.exec(n))!==null;)c.push({index:a.index,length:a[0].length,emoji:a[0]});let r=[],u=0;for(let g of c){for(;u<g.index;)r.push({char:n[u],isEmoji:!1}),u++;r.push({char:g.emoji,isEmoji:!0}),u+=g.length}for(;u<n.length;)r.push({char:n[u],isEmoji:!1}),u++;let B=r.filter(g=>!g.isEmoji).length,D=f.length-1,h=Math.ceil(B/D),P="",L=0;for(let{char:g,isEmoji:x}of r)if(x)P+=g;else{let m=Math.floor(L/h),k=(L-m*h)/h,C=f[m],M=f[Math.min(m+1,f.length-1)],I=t(C,M,k);P+=I+g,L++}return P+y.reset},de=o=>E[2](!1,o),E=[(o,e)=>{let n=/\[([^\[\]]+)\]\.(\w+)(-b)?/g,s=[],t=0,b=(c=>{let a=c;for(;;){let r=n.exec(a);if(!r)break;let[u,B,D,h]=r,P=h==="-b",L=t++;s.push({key:D,count:L,value:B,bold:P});let g=`<__LOGGINGS_$${L}>`;a=a.replace(u,g),n.lastIndex=0}return a})(e);return s.reverse().forEach(c=>{let a=`<__LOGGINGS_$${c.count}>`,r=c.value;c.bold&&(r=o?r:y.bold+r),r=o?r:l(c.key,r),b=b.replace(a,r)}),b},p("\\*(.*?)\\*",(o,e,n)=>o?n:l("bold",n)),p("~(.*?)~",(o,e,n)=>o?n:l("strikethrough",n)),p("-(.*?)-",(o,e,n)=>o?n:l("italic",n)),p("_(.*?)_",(o,e,n)=>o?n:l("underline",n)),p("!(.*?)!",(o,e,n)=>o?n:l("blink",n)),p("#(.*?)#",(o,e,n)=>o?n:l("reverse",n)),p("\\(([^()]+)\\)gd\\((.*?)\\)",q),p("\\(([^()]+)\\)gb\\((.*?)\\)",q)],T=(o,e=[],n=!1)=>{let s=typeof o=="string"?[o]:[...o],t=!1,i=[...E,...e],f=0,b=10;do t=!1,i.forEach(c=>{s=s.map(a=>{let r=c(n,a);return r!==a&&(t=!0),r})}),f++;while(t&&f<b);return s.join(" ")};var U={level:"info",title:"Loggings",formatKits:E,plugins:[]};var ee={format:"[{status}] [{hours}:{minutes}:{seconds}].gray {message}",status:{error:"red50",debug:"purple50",info:"blue40",warn:"yellow40",trace:"yellow95",txt:"none"},color:"green",fallback:"white",disable_colors:!1,console:!0,colors:{}},W=(o={})=>({ident:"loggings-console",default:ee,onInit:o.onInit,onPreMessage:(e,n,s)=>{if(n=="txt")return;let t=F(e.console_level??e.level),i=F(e.level);if(!(!e.console||t<i))return o.onPreMessage?o.onPreMessage(e,n,s):s},onMessage(e,n,s){e.level=e.console_level?e.console_level:e.level,o.onMessage&&o.onMessage(e,n,s);let t=T(e.format,e.formatKits,e.disable_colors);t=K(t).format;let i=e.disable_colors;return t.includes("{title}")&&(t=t.replace(new RegExp("{title}","g"),i?e.title:l(e.color,e.title,e.colors))),t.includes("{status}")&&(t=t.replace(new RegExp("{status}","g"),i?n:l(e.status[n],l("bold",n),e.colors))),t.includes("{message}")&&(t=t.replace(new RegExp("{message}","g"),T(s,e.formatKits,e.disable_colors))),t},onSend(e,n,s){o.onSend&&o.onSend(e,n,s);let t=`${s}
`;switch(d){case 2:{let i=new TextEncoder().encode(t);return["info","debug"].includes(n.toLowerCase())?Deno.stderr.info(i):Deno.stdout.error(i)}case 0:return["info","debug"].includes(n.toLowerCase())?process.stderr.write(t):process.stdout.write(t);case 1:return["info","debug"].includes(n.toLowerCase())?Bun.write(Bun.stderr,t):Bun.write(Bun.stdout,t);case 3:{console[n.toLowerCase()](s);break}default:throw new Error("Unknown environment")}}});var ne=[W],G=class o{static configs=U;configs;get allconfigs(){return Object.assign({...o.allconfigs,...this.configs})}static get allconfigs(){return Object.assign(o.configs,...o.pluginLoader(this.plugins).map(e=>e.default))}static plugins=ne;plugins;constructor(e,n="blue",s={}){let t=typeof e=="object";this.plugins=[...t?e?.plugins??[]:[],...s?.plugins??[]],this.configs={color:n,...s,...typeof e=="string"?{title:e}:e},o.pluginLoader(this.plugins).forEach(i=>{i.onInit&&i.onInit(this.allconfigs)})}static pluginLoader(e,n=!1){let s={};return n||o.plugins.forEach(t=>{let i=typeof t=="function"?t():t;s[i.ident]=i}),e.forEach(t=>{let i=typeof t=="function"?t():t;s[i.ident]=i}),Object.values(s)}config(e={}){return e?.plugins&&(this.plugins.length=0,this.plugins=e?.plugins??[]),this.configs={...this.configs,...e},o.pluginLoader(this.plugins,!0).forEach(n=>{n.onInit&&n.onInit(this.allconfigs)}),this}static config(e={}){return e?.plugins&&(o.plugins.length=0,o.plugins=e?.plugins??[]),this.configs={...o.configs,...e},o.pluginLoader(o.plugins,!0).forEach(n=>{n.onInit&&n.onInit(this.allconfigs)}),this}controller(e,n){o.pluginLoader(this.plugins).forEach(s=>{try{let t=s.onPreMessage?s.onPreMessage(this.allconfigs,n,e):e;if(t&&s.onMessage){let i=s.onMessage(this.allconfigs,n,t);s.onSend&&s.onSend(this.allconfigs,n,i)}}catch(t){if(s.onError)s.onError(this.allconfigs,t);else throw t}})}log(...e){return this.controller(e,"info"),this}debug(...e){return this.controller(e,"debug"),this}error(...e){return this.controller(e,"error"),this}trace(...e){return this.controller(e,"trace"),this}info(...e){return this.controller(e,"info"),this}warn(...e){return this.controller(e,"warn"),this}txt(...e){return this.controller(e,"txt"),this}},Me=G;export{ae as Colors,W as ConsolePlugin,ee as ConsolePluginDefault,E as LOGGINGS_FORMATKITS,G as Loggings,y as LoggingsAnsiSpecials,A as LoggingsCommonPallet,ne as LoggingsDefaultPlugins,T as LoggingsFormatKitController,p as LoggingsFormatParser,de as LoggingsGrandient,F as LoggingsLevelToNumber,z as LoggingsPallet,$ as LoggingsTailwindColors,_ as Runtime,l as colorpik,Me as default,w as rgb,d as runtime,S as termcolor,K as timer,H as toHexadecimal};
